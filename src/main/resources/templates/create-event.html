<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<div th:replace="~{fragments/head :: head}"></div>
<body>
	<div th:replace="~{fragments/nav :: nav}"></div>

	<section class="container my-4 p-2" style="max-width: 1000px;">

		<div class="container p-2 mb-2">
			<h1 class="text">Create New Event</h1>
			<p class="text">Create new events, invite friends, and share the
				joy</p>
		</div>

		<section class="container my-4 p-2">
			<form class="d-flex flex-wrap" method="post"
				th:action="@{/events/create}" th:object="${eventDto}"
				enctype="multipart/form-data">
				<div class="d-flex flex-row w-100 gap-2">
					<div class="flex-grow-1 w-75 mb-3">
						<label for="title" class="form-label mx-1">Title</label> <input
							class="form-control rounded-4 shadow-sm" type="text"
							placeholder="Title..." name="title" th:field="*{title}"
							th:classappend="${#fields.hasErrors('title')} ? 'is-invalid' : ''">
						<div th:if="${#fields.hasErrors('title')}"
							class="invalid-feedback">
							<span th:errors="*{title}"></span>
						</div>
					</div>
					<div class="flex-grow-1 w-25 mb-3">
						<label for="categoryId" class="form-label mx-1">Category</label> <select
							class="form-control rounded-4 shadow-sm" name="category"
							th:field="*{categoryId}"
							th:classappend="${#fields.hasErrors('categoryId')} ? 'is-invalid' : ''">
							<option value="">Select a Category</option>
							<option th:each="category : ${categories}"
							th:value="${category.id}" th:text="${category.name}"></option>
						</select>
						<div th:if="${#fields.hasErrors('categoryId')}" class="invalid-feedback">
                                        <span th:errors="*{categoryId}"></span>
                                    </div>
					</div>
				</div>
				<div class="d-flex flex-row w-100 gap-2">
					<div class="flex-grow-1 mb-3">
						<label for="date" class="form-label mx-1">Date & Time</label>
						<input
							class="form-control rounded-4 shadow-sm" type="datetime-local" name="date"
							th:field="*{date}"
                            th:classappend="${#fields.hasErrors('date')} ? 'is-invalid' : ''">
                             <div th:if="${#fields.hasErrors('date')}" class="invalid-feedback">
                                        <span th:errors="*{date}"></span>
                                    </div>
					</div>
					<div class="flex-grow-1 mb-3">
						<label for="location" class="form-label mx-1">Location</label> 
						<input
							class="form-control rounded-4 shadow-sm" type="text"
							placeholder="Location" name="location"
							th:field="*{location}"
                                   th:classappend="${#fields.hasErrors('location')} ? 'is-invalid' : ''">
						<div th:if="${#fields.hasErrors('location')}" class="invalid-feedback">
                                <span th:errors="*{location}"></span>
                            </div>
					</div>
					<div class="flex-grow-1 mb-3">
						<label for="maxParticipants" class="form-label mx-1">Participants</label>
						<input class="form-control rounded-4 shadow-sm" type="number"
							placeholder="Max Participants" name="maxParticipants"
							th:field="*{maxParticipants}" min="1" max="1000"
                                           th:classappend="${#fields.hasErrors('maxParticipants')} ? 'is-invalid' : ''">
                                            <div th:if="${#fields.hasErrors('maxParticipants')}" class="invalid-feedback">
                                        <span th:errors="*{maxParticipants}"></span>
                                    </div>
                                </div>
					</div>
				</div>
				<div class="flex-grow-1 w-100 mb-3">
					<label for="description" class="form-label mx-1">Description</label>
					<textarea class="form-control rounded-4 shadow-sm"
						name="Description" placeholder="More details here..."
						th:field="*{description}" rows="4"
                                      th:classappend="${#fields.hasErrors('description')} ? 'is-invalid' : ''">>
                                      </textarea>
                                      <div th:if="${#fields.hasErrors('description')}" class="invalid-feedback">
                                <span th:errors="*{description}"></span>
                            </div>
				</div>
				<div class="flex-grow-1 w-100 mb-3">
					<label for="imageFile" class="form-label mx-1">Image</label> 
					<input
						class="form-control rounded-4 shadow-sm" type="file" name="imageFile"  accept="image/*">
						<div class="form-text mx-1">Optional: Upload an image for your event (JPG, PNG, GIF)</div>
				</div>

				<button class="btn text-white rounded-4 p-2 mt-4 ms-auto w-50"
					style="background-color: #6f42c1;" type="submit"> Create Event</button>
			</form>
		</section>
	</section>

	<div th:replace="~{fragments/footer :: footer}"></div>

	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>