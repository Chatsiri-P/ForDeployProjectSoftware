<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<div th:replace="~{fragments/head :: head}"></div>
<body>
	<div th:replace="~{fragments/nav :: nav}"></div>
	<div th:replace="~{fragments/alertMessages :: alertMessages}"></div>


	<section class="container my-4 p-2">

		<div class="container p-2 mb-2">
			<h1 class="text">Notification</h1>
			<p class="text">Keep track of invites, updates, and activity
				alerts instantly</p>
		</div>
		<div th:if="${#lists.isEmpty(notifications) or unreadCount == 0}">
			<div
				th:replace="fragments/no-content :: noContent(
	        'bi bi-bell-slash', 
	        'No notifications yet', 
	        'You\'ll receive notifications when someone joins your events or when events are updated!', 
	        null, 
	        null)"></div>
		</div>
	</section>
	<section class="container my-4">
		<div class="row g-3">

			<div th:each="notification : ${notifications}" class="col-12">
				<div th:if="${!notification.read}">
					<a class="text-decoration-none"
						th:href="@{/events/{id}(id=${notification.event.id})}">
						<div
						class="card rounded-4 d-flex flex-row align-items-center p-4 gap-4"
						style="box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); border: 1px solid #dee2e6;">
							<i class="bi bi-megaphone" style="font-size: 2rem;"></i>
							<div>
								<h5 class="card-title" th:text="${notification.message}"></h5>
								<p class="card-text"
								th:text="${#temporals.format(notification.createdAt, 'MMM dd, yyyy HH:mm')}">2
								</p>
							</div>
							<div th:if="${!notification.read}" class="ms-auto">
								<form
									th:action="@{/notifications/{id}/mark-read(id=${notification.id})}"
									method="post">
									<button type="submit" class="btn btn-outline-secondary rounded-4 me-4">
										<i class="bi bi-check"></i> Mark as Read
									</button>
								</form>
							</div>
						</div>
					</a>
				</div>
			</div>
		</div>
	</section>


	<section class="container my-4">
		<div class="d-flex gap-3"></div>
	</section>
	<!-- 
		<section class="container my-4">
			<div class="d-flex gap-3">
				<div class="col">
					<div class="card noti-card h-100 position-relative"
					th:classappend="${view != 'mark'} ? 'active' : ''">
						<div class="card-body d-flex flex-row align-items-center justify-content-center p-2">
							<i class="bi bi-calendar-event" style="font-size: 1.5rem;"></i>
							<h5 class="card-title mb-0 ms-2">Notification</h5>
						</div>
						<a class="stretched-link" th:href="@{/noti}"></a>
					</div>
				</div>
				<div class="col">
					<div class="card noti-card h-100 position-relative"
					th:classappend="${view == 'mark'} ? 'active' : ''">
						<div class="card-body d-flex flex-row align-items-center justify-content-center p-2">
							<i class="bi bi-clipboard2-plus" style="font-size: 1.5rem;"></i>
							<h5 class="card-title mb-0 ms-2">Book Mark</h5>
						</div>
						<a class="stretched-link" th:href="@{/noti(view='mark')}"></a>
					</div>
				</div>
			</div>
		</section>
		<style>
			.noti-card {
				border: 1px solid #dee2e6;
				border-radius: 15px;
			}
			.noti-card:hover {
				transition: background-color 0.3s ease, color 0.3s ease, box-shadow 0.3s ease;
				box-shadow: 0 4px 6px rgba(0,0,0,0.1);
				background-color: #F0E9FF; 
				color: #921ffa;
			}
			.noti-card.active {
				box-shadow: 0 4px 6px rgba(0,0,0,0.1);
				color: #921ffa;
			}
		</style>
		 -->
	<!-- 
	<div th:if="${view != 'mark'}">

			<section class="container my-4 p-2">
				<h1 class="text-black p-2" th:text="${showTitle}">Text</h1>


				<section class="container my-4">
					<div class="row g-3">

						<div class="col-12">
							<a class="text-decoration-none" th:href="@{/event}">
								<div
									class="card rounded-4 d-flex flex-row align-items-center p-4 gap-4"
									style="box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); border: 1px solid #dee2e6;">
									<i class="bi bi-megaphone" style="font-size: 2rem;"></i>
									<div>
										<h5 class="card-title">Your event registration was
											successful.</h5>
										<p class="card-text">2 minutes ago</p>
									</div>
								</div>
							</a>
						</div>
						<div class="col-12">
							<a class="text-decoration-none" th:href="@{/event}">
								<div
									class="card rounded-4 d-flex flex-row align-items-center p-4 gap-4"
									style="box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); border: 1px solid #dee2e6;">
									<i class="bi bi-megaphone" style="font-size: 2rem;"></i>
									<div>
										<h5 class="card-title">Your event registration was
											successful.</h5>
										<p class="card-text">2 minutes ago</p>
									</div>
								</div>
							</a>
						</div>
						<div class="col-12">
							<a class="text-decoration-none" th:href="@{/event}">
								<div
									class="card rounded-4 d-flex flex-row align-items-center p-4 gap-4"
									style="box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); border: 1px solid #dee2e6;">
									<i class="bi bi-megaphone" style="font-size: 2rem;"></i>
									<div>
										<h5 class="card-title">Your event registration was
											successful.</h5>
										<p class="card-text">2 minutes ago</p>
									</div>
								</div>
							</a>
						</div>
						<div class="col-12" th:each="noti : ${notis}">
							<a class="text-decoration-none" th:href="@{/event}">
								<div
									class="card rounded-4 d-flex flex-row align-items-center p-4 gap-4"
									style="box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); border: 1px solid #dee2e6;">
									<i class="bi bi-megaphone" style="font-size: 2rem;"></i>
									<div>
										<h5 class="card-title" th:text="${noti.title}">Title</h5>
										<p class="card-text" th:text="${noti.title}">Detail</p>
									</div>
								</div>
							</a>
						</div>
					</div>
				</section>

			</section>
		</div>
		<div th:if="${view == 'mark'}">
			<div th:replace="~{fragments/show :: show(${showTitle})}"></div>
		</div>
 -->

	<div th:replace="~{fragments/footer :: footer}"></div>

	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>